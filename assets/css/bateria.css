/* Bateria Social – componente visual e estilos auxiliares */

:root {
  --bat-red:   #ef4444;
  --bat-amber: #f59e0b;
  --bat-green: #22c55e;
}

body[data-theme="dark"] {
  --bat-red:   #f87171;
  --bat-amber: #fbbf24;
  --bat-green: #34d399;
}

.bat-card {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 14px;
  box-shadow: var(--shadow-sm);
}

.bateria {
  --bat-val: 60%;
  display: grid;
  gap: 12px;
}

.bat-levels {
  display: grid;
  grid-template-columns: repeat(6, minmax(0, 1fr));
  gap: 10px;
}

.bateria input[type="radio"].sr-only { /* já há .sr-only global, reforçamos o contexto */
  position: absolute !important;
  width: 1px; height: 1px; padding: 0; margin: -1px;
  overflow: hidden; clip: rect(0 0 0 0); white-space: nowrap; border: 0;
}

.bat-level {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 6px;
  padding: 10px 8px;
  border: 1px solid var(--border);
  border-radius: var(--radius);
  background: var(--btn-bg);
  box-shadow: var(--shadow-sm);
  cursor: pointer;
  user-select: none;
  text-align: center;
  transition: transform .12s ease, box-shadow .18s ease, border-color .18s ease, background-color .18s ease;
  min-height: 64px;
}

.bat-level .bat-emoji { font-size: 1.15rem; line-height: 1; }
.bat-level .bat-text { font-size: .9rem; color: var(--muted); }

/* cores suaves por nível */
.bat-level.lvl-0 { background: color-mix(in srgb, var(--bat-red) 18%, var(--btn-bg)); }
.bat-level.lvl-1 { background: color-mix(in srgb, var(--bat-red) 10%, var(--btn-bg)); }
.bat-level.lvl-2 { background: color-mix(in srgb, var(--bat-amber) 12%, var(--btn-bg)); }
.bat-level.lvl-3 { background: var(--btn-bg); }
.bat-level.lvl-4 { background: color-mix(in srgb, var(--bat-green) 12%, var(--btn-bg)); }
.bat-level.lvl-5 { background: color-mix(in srgb, var(--bat-green) 18%, var(--btn-bg)); }

/* hover/focus/checked acessível */
.bateria input[type="radio"]:focus-visible + .bat-level {
  outline: 3px solid var(--ring);
  outline-offset: 2px;
}
.bateria input[type="radio"]:checked + .bat-level {
  border-color: var(--primary);
  box-shadow: var(--shadow-md);
  transform: translateY(-1px);
}

/* medidor linear */
.bat-meter {
  height: 10px;
  border-radius: 999px;
  background: var(--btn-bg-hover);
  border: 1px solid var(--border);
  overflow: hidden;
}
.bat-meter__fill {
  width: var(--bat-val);
  height: 100%;
  background: linear-gradient(90deg, var(--bat-red), var(--bat-amber), var(--bat-green));
  transition: width .2s ease;
}

/* pílula colorida da visão admin */
.bat-pill {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 4px 8px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: var(--card);
  font-size: .95rem;
}
.bat-pill__emoji { line-height: 1; }

.bat-pill.lvl-0 { background: color-mix(in srgb, var(--bat-red) 18%, var(--card)); }
.bat-pill.lvl-1 { background: color-mix(in srgb, var(--bat-red) 10%, var(--card)); }
.bat-pill.lvl-2 { background: color-mix(in srgb, var(--bat-amber) 12%, var(--card)); }
.bat-pill.lvl-3 { background: var(--card); }
.bat-pill.lvl-4 { background: color-mix(in srgb, var(--bat-green) 12%, var(--card)); }
.bat-pill.lvl-5 { background: color-mix(in srgb, var(--bat-green) 18%, var(--card)); }
