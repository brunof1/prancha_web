/* ==========================================================================
   Prancha Web – CSS base consolidado
   - Hover/Focus consistente para TODO o sistema
   - Suporte a temas via <body data-theme="light|dark">
   - Mantém compatibilidade com páginas existentes
   ========================================================================== */

/* -----------------------------
   Design tokens (CSS variables)
   ----------------------------- */
:root {
  --bg:           #f7f7fb;
  --card:         #ffffff;
  --text:         #1f2937;
  --muted:        #6b7280;
  --border:       #e5e7eb;

  --primary:      #2563eb;
  --primary-strong:#1d4ed8;

  --danger:       #dc2626;
  --danger-strong:#b91c1c;

  --ring:         #93c5fd;

  --btn-bg:       #ffffff;
  --btn-bg-hover: #f3f4f6;

  --radius:       12px;
  --shadow-sm:    0 1px 2px rgba(0,0,0,.06);
  --shadow-md:    0 6px 18px rgba(37, 99, 235, .12);
  --shadow-focus: 0 0 0 3px var(--ring);

  --pict-bg: transparent;
  --pict-outline: transparent;
}

body[data-theme="dark"] {
  --bg:           #0f172a;   /* slate-900 */
  --card:         #111827;   /* gray-900 */
  --text:         #e5e7eb;   /* gray-200 */
  --muted:        #9ca3af;   /* gray-400 */
  --border:       #374151;   /* gray-700 */

  --primary:      #60a5fa;   /* blue-400 */
  --primary-strong:#3b82f6;  /* blue-500 */

  --danger:       #f87171;   /* red-400 */
  --danger-strong:#ef4444;   /* red-500 */

  --ring:         rgba(96,165,250,.45);

  --btn-bg:       #111827;
  --btn-bg-hover: #1f2937;

  --pict-bg: #bdbdbd;
  --pict-outline: #f5f5f5;
  
  --pict-preview-bg: #bdbdbd;        /* cinza bem claro no dark */
  --pict-preview-outline: #f5f5f5;   /* contorno suave */
}

/* --------------
   Reset leve
   -------------- */
* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, Ubuntu, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji","Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", sans-serif;
  background: var(--bg);
  color: var(--text);
  line-height: 1.5;
  transition: background .25s ease, color .25s ease;
  font-size: 16px;
}

/* Utilitários */
.sr-only { position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }
.ml-8 { margin-left: 8px !important; }

/* --------------
   Layout geral
   -------------- */
.container {
  max-width: 1000px;
  margin: 0 auto;
  padding: 16px;
}

.logo {
  max-height: 60px;
  display: block;
  margin: 12px auto 8px;
}

.menu-superior {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  flex-wrap: wrap;
}

.menu-superior nav {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}

.form-sair { margin-left: auto; }

hr {
  border: 0;
  border-top: 1px solid var(--border);
  margin: 16px 0;
}

/* -----------------------------------------
   Botões & ações – APLICAR EM TODO SISTEMA
   ----------------------------------------- */
/* Base: aplica em tudo que é “botão” no HTML + classe existente .botao-acao */
:where(button,
       input[type="submit"],
       input[type="button"],
       .botao-acao,
       summary.botao-acao) {
  appearance: none;
  -webkit-appearance: none;
  background: var(--btn-bg);
  color: var(--text);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: .55rem .9rem;
  font: inherit;
  line-height: 1.1;
  display: inline-flex;
  align-items: center;
  justify-content: center;  /* <-- adicione isso aqui */
  text-align: center;       /* ajuda em casos com quebra de linha */
  gap: .5rem;
  cursor: pointer;
  text-decoration: none; /* cobre <a class="botao-acao"> */
  box-shadow: var(--shadow-sm);
  transition:
    background-color .18s ease,
    border-color .18s ease,
    color .18s ease,
    transform .06s ease,
    box-shadow .18s ease,
    filter .18s ease;
}

/* Hover “gostoso” */
:where(button,
       input[type="submit"],
       input[type="button"],
       .botao-acao,
       summary.botao-acao):hover {
  background: var(--btn-bg-hover);
  border-color: var(--primary);
  box-shadow: var(--shadow-md);
  transform: translateY(-1px);
}

/* Active “clicado” */
:where(button,
       input[type="submit"],
       input[type="button"],
       .botao-acao,
       summary.botao-acao):active {
  transform: translateY(0);
  filter: brightness(0.98);
}

/* Focus acessível */
:where(button,
       input[type="submit"],
       input[type="button"],
       .botao-acao,
       summary.botao-acao):focus-visible {
  outline: none;
  box-shadow: var(--shadow-md), var(--shadow-focus);
  border-color: var(--primary-strong);
}

/* Disabled */
:where(button,
       input[type="submit"],
       input[type="button"],
       .botao-acao,
       summary.botao-acao)[disabled],
:where(button,
       input[type="submit"],
       input[type="button"],
       .botao-acao,
       summary.botao-acao)[aria-disabled="true"] {
  opacity: .6;
  pointer-events: none;
}

/* Variante de perigo (excluir) */
:where(.botao-acao.excluir) {
  border-color: color-mix(in srgb, var(--danger) 50%, var(--border));
  color: var(--text);
}
:where(.botao-acao.excluir):hover {
  border-color: var(--danger-strong);
  box-shadow: 0 6px 18px rgba(220, 38, 38, .18);
}

/* Botão grande usado em “Falar tudo” pode reaproveitar */
.botao-falar-tudo { /* é um .botao-acao também nas páginas, mas garantimos aqui */
  font-weight: 600;
}

/* -----------------------
   Links de navegação
   ----------------------- */
a.botao-acao { /* já coberto acima, mas reforçamos comportamento de link */
  color: inherit;
}
a.botao-acao:visited { color: inherit; }

/* -----------------------
   Campos de formulário
   ----------------------- */
input[type="text"],
input[type="email"],
input[type="password"],
input[type="number"],
textarea,
select {
  width: 100%;
  max-width: 520px;
  padding: .55rem .7rem;
  border: 1px solid var(--border);
  border-radius: var(--radius);
  background: var(--card);
  color: var(--text);
  outline: none;
  transition: border-color .18s ease, box-shadow .18s ease, background-color .18s ease, color .18s ease;
}

/* Hover consistente nos inputs/selects do sistema */
input[type="text"]:hover,
input[type="email"]:hover,
input[type="password"]:hover,
input[type="number"]:hover,
textarea:hover,
select:hover {
  border-color: var(--primary);
  box-shadow: var(--shadow-sm);
  background: color-mix(in srgb, var(--card) 90%, var(--primary) 10%);
}

/* Focus */
input[type="text"]:focus,
input[type="email"]:focus,
input[type="password"]:focus,
input[type="number"]:focus,
textarea:focus,
select:focus {
  border-color: var(--primary-strong);
  box-shadow: var(--shadow-focus);
}

/* Ajuda e pequenos textos */
.help { color: var(--muted); font-size: .925rem; margin-top: 4px; }

/* -----------------------
   Grades e seções
   ----------------------- */
.grid-2 {
  display: grid;
  grid-template-columns: repeat(2, minmax(0,1fr));
  gap: 20px;
}
@media (max-width: 860px) {
  .grid-2 { grid-template-columns: 1fr; }
}

/* -----------------------
   Alertas
   ----------------------- */
.alert {
  padding: 12px 14px;
  border-radius: var(--radius);
  background: var(--card);
  border: 1px solid var(--border);
  box-shadow: var(--shadow-sm);
}
.alert--success { border-color: #22c55e33; }
.alert--danger  { border-color: #ef444433; }

/* -----------------------
   Tabelas (lista de usuários)
   ----------------------- */
.table, .tabela {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  overflow: hidden;
  box-shadow: var(--shadow-sm);
}
.tabela thead th {
  text-align: left;
  padding: 10px 12px;
  border-bottom: 1px solid var(--border);
  background: var(--btn-bg-hover);
}
.tabela tbody td {
  padding: 10px 12px;
  border-bottom: 1px solid var(--border);
}
.tabela:not(.tabela--usuarios) col.id    { width: 64px; }
.tabela:not(.tabela--usuarios) col.nome  { width: 22%; }
.tabela:not(.tabela--usuarios) col.email { width: 28%; }
.tabela:not(.tabela--usuarios) col.tipo  { width: 110px; }
.tabela:not(.tabela--usuarios) col.tema  { width: 120px; }
.tabela:not(.tabela--usuarios) col.acoes { width: 220px; }
/* REMOVIDO: .tabela:not(.tabela--usuarios) col.salvar { width: 120px; } */
.tabela:not(.tabela--usuarios) col.bateria { width: 110px; }
.tabela tbody tr:last-child td { border-bottom: 0; }
.celula-acao, .celula-salvar { white-space: nowrap; }

/* <details> usado nas ações da tabela */
details > summary.botao-acao{ 
  list-style: none;
  display: inline-flex;        /* garante o flex container */
  align-items: center;
  justify-content: center;     /* centra conteúdo dentro do botão */
}
details > summary.botao-acao::-webkit-details-marker{ display:none; }
details > summary.botao-acao::marker{ content:''; }   /* Firefox/compat */

/* -----------------------
   Lista de cartões
   ----------------------- */
.lista-cartoes {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
  gap: 16px;
}
.cartao-item {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 10px;
  text-align: center;
  box-shadow: var(--shadow-sm);
  transition: transform .12s ease, box-shadow .18s ease, border-color .18s ease;
  cursor: pointer;
  position: relative; /* para posicionar o badge */
}
.cartao-item:hover {
  transform: translateY(-2px);
  border-color: var(--primary);
  box-shadow: var(--shadow-md);
}
.cartao-item img {
  max-width: 100%;
  max-height: 120px;
  object-fit: contain;
  border-radius: 8px;
  
  background: var(--pict-bg);
  box-shadow: inset 0 0 0 1px var(--pict-outline);
  transition: background-color .2s ease, box-shadow .2s ease;
}

.cartao-item.is-selected {
  border-color: var(--primary);
  box-shadow: var(--shadow-md);
}

.cartao-item .ordem-badge {
  position: absolute;
  top: 8px;
  right: 8px;
  width: 28px;
  height: 28px;
  border-radius: 50%;
  display: none;              /* o JS liga com inline-flex quando selecionado */
  background: var(--primary);
  color: #fff;
  font-weight: 800;
  font-size: .9rem;
  line-height: 1;             /* não dependemos mais de line-height para centralizar */
  text-align: center;
  align-items: center;        /* ⬅️ centra vertical */
  justify-content: center;    /* ⬅️ centra horizontal */
  box-shadow: var(--shadow-sm);
  z-index: 1;
  pointer-events: none;
}


/* -----------------------
   Login
   ----------------------- */
.login-container {
  max-width: 360px;
  margin: 8vh auto 0;
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 20px;
  text-align: center;
  box-shadow: var(--shadow-sm);
}

/* -----------------------
   Acessórios
   ----------------------- */
fieldset {
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 10px 12px;
  background: var(--card);
}
legend { padding: 0 6px; color: var(--muted); }

label { display: inline-block; margin-bottom: 4px; color: var(--text); }
.campo { margin: 10px 0; }

/* =========================
   VARIANTE "EXCLUIR" (vermelho)
   Cole no FINAL do assets/css/style.css
   ========================= */

/* Tokens de cor para o botão de EXCLUIR */
body[data-theme="light"] {
  --danger-bg: #c62828;       /* fundo normal */
  --danger-bg-hover: #c62828; /* fundo hover/focus */
  --danger-border: #b71c1c;   /* borda */
  --danger-text: #ffffff;     /* texto/ícone */
  --danger-focus: rgba(229,57,53,.40); /* anel de foco acessível */
}

body[data-theme="dark"] {
  --danger-bg: #d32f2f;
  --danger-bg-hover: #b71c1c;
  --danger-border: #ef5350;
  --danger-text: #ffffff;
  --danger-focus: rgba(239,83,80,.35);
}

/* Variante vermelha aplicada SOMENTE quando houver .botao-acao.excluir */
.botao-acao.excluir {
  background: var(--danger-bg);
  border-color: var(--danger-border);
  color: var(--danger-text);
}

/* Hover/Focus visível (acessível) */
.botao-acao.excluir:hover,
.botao-acao.excluir:focus-visible {
  background: var(--danger-bg-hover);
  border-color: var(--danger-border);
  color: var(--danger-text);
}

.botao-acao.excluir:focus-visible {
  outline: none;
  box-shadow: 0 0 0 3px var(--danger-focus);
}

/* Estado desabilitado (inclusive ARIA) */
.botao-acao.excluir[disabled],
.botao-acao.excluir[aria-disabled="true"] {
  opacity: .55;
  cursor: not-allowed;
  filter: saturate(.85);
}

/* Links com a variante vermelha mantêm o texto claro em :link/:visited */
a.botao-acao.excluir:link,
a.botao-acao.excluir:visited {
  color: var(--danger-text);
}

.campo[aria-label="Pré-visualização da imagem atual"] img {
  background: var(--pict-preview-bg);
  padding: 8px;
  border-radius: 12px;
  box-shadow: inset 0 0 0 1px var(--pict-preview-outline);
  display: inline-block;
}